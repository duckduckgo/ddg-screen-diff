<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- make sure generated page doesn't cache -->
    <meta http-equiv='Cache-Control' content='no-cache, no-store, must-revalidate' />
    <meta http-equiv='Pragma' content='no-cache' />
    <meta http-equiv='Expires' content='0' />

    <style>
        .item {

        }

        .item__description {

        }

        .item__description {
            font-weight: bold;
            color: green;
        }
        .image-row {
            display: flex;
            flex-direction: row;
            width: 100vw;
        }

        .image-row__link {
            display: block;
        }

        .image-row__link__image {
            object-fit: contain;
            width: 100%;
            margin-right: 5px;
        }

        .image-row__link__image::before {
            content: attr(data-title);
            position: absolute;
        }
    </style>
</head>

<body>

    {{#each data}}
        <div class='item {{#if areEqual}}item--collapsed{{/if}}'>
            {{#if taskA}}
                <p class='item__description'>Comparing <a href="https://{{taskA.host}}/{{taskA.path}}" target="_blank">{{taskA.host}}/{{taskA.path}}</a> and <a href="https://{{taskB.host}}/{{taskB.path}}" target="_blank">{{taskB.host}}/{{taskB.path}}</a>.</p>
            {{else}}
                <p class='item__description'>Showing <a href="https://{{taskA.host}}/{{taskA.path}}" target="_blank">{{taskA.host}}/{{taskA.path}}</a>.</p>
            {{/if}}

            {{#if taskA.size}}
                <p class='item__description'>Size: {{taskA.size.width}}x{{taskA.size.height}} ({{taskA.sizeName}})</p>
            {{/if}}
            {{#if taskA.browser}}
                <p class='item__description'>Browser: {{taskA.browser}}</p>
            {{/if}}
            {{#if areEqual}}
                <p class='item__description item__description--strong'>Images are equal.</p>
            {{/if}}
            
            <div class='image-row'>
                    <a href="{{taskAImage}}" target="_blank" class='image-row__link'><img src="{{taskAImage}}" alt='A' class='image-row__link__image'/></a>
                    {{#if taskB}}
                        <a href="{{taskBImage}}" target="_blank" class='image-row__link'><img src="{{taskBImage}}" alt='B' class='image-row__link__image'/></a>
                        <a href="{{diffImage}}" target="_blank" class='image-row__link'><img src="{{diffImage}}" alt='diff' class='image-row__link__image'></a>
                    {{/if}}
            </div>
        </div>
    {{/each}}

</body>

</html>